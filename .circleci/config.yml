version: 2
jobs:
  python-3.4-core:
    docker:
      - image: circleci/python:3.4-stretch-node-browsers

    steps:
      - checkout
      - run:
          name: Install core requirements
          command: 'sudo pip install -r project/requirements.txt'
      - run:
          name: Install nose
          command: 'sudo pip install nose coverage'
      - run:
          name: Run tests
          command: 'nosetests -xv tests.py --with-coverage --cover-package=cufflinks'

workflows:
  version: 2
  build:
    jobs:
      - python-3.4-core